(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,o=window.wp.element,r=window.wp.components,a=window.wp.data,n=window.wp.notices,l=()=>{const{removeNotice:e}=(0,a.useDispatch)(n.store),o=(0,a.useSelect)(e=>e(n.store).getNotices());return(0,t.useEffect)(()=>{if(o.length>0){const t=o[o.length-1].id,r=setTimeout(()=>{e(t)},3e3);return()=>clearTimeout(r)}},[o,e]),0===o.length?null:(0,t.createElement)(r.NoticeList,{notices:o,onRemove:e})},c=window.wp.apiFetch;var s=e.n(c);const i=window.wp.i18n;s().use((e,t)=>(e.headers={...e.headers,"X-WP-Nonce":efbtwSettings_object.nonce},t(e)));const u=()=>{const e=new URLSearchParams(window.location.search).get("settingstab")||"general",[c,u]=(0,o.useState)(e),[m,g]=(0,o.useState)("Frequently Bought Together"),[h,b]=(0,o.useState)("Price for all"),[d,p]=(0,o.useState)("Add all to Cart"),[f,y]=(0,o.useState)("auto"),[w,_]=(0,o.useState)(!0),[E,C]=(0,o.useState)(!0),[v,T]=(0,o.useState)(!0),{createNotice:P}=(0,a.useDispatch)(n.store);(0,o.useEffect)(()=>{s()({path:"/efbtw/v1/settings"}).then(e=>{var t,o,r;e&&(g(e.boxTitle||"Frequently Bought Together"),b(e.totalLabel||"Price for all"),p(e.buttonLabel||"Add all to Cart"),y(e.currencyType||"auto"),_(null===(t=e.enableProductPrice)||void 0===t||t),C(null===(o=e.enableCartPrice)||void 0===o||o),T(null===(r=e.enableDiscountPercentage)||void 0===r||r))})},[]);const q=e=>{u(e);const t=new URL(window.location.href);t.searchParams.set("settingstab",e),window.history.replaceState(null,"",t.toString())};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"easy-efbtw-notice-wrapper"},(0,t.createElement)(l,null)),(0,t.createElement)("div",{className:"efbtw-settings-admin-layout"},(0,t.createElement)("div",{className:"efbtw-settings-admin-sidebar"},(0,t.createElement)("ul",{className:"efbtw-settings-sidebar-nav"},(0,t.createElement)("li",{className:"general"===c?"active":"",onClick:()=>q("general")},"‚öô General"),(0,t.createElement)("li",{className:"approximate_price"===c?"active":"",onClick:()=>q("approximate_price")},"üí≤ Approximate Price"))),(0,t.createElement)("div",{className:"efbtw-admin-right-settings-content",style:{flex:1}},"general"===c&&(0,t.createElement)(r.Card,null,(0,t.createElement)(r.CardHeader,null,(0,t.createElement)("h2",null,(0,i.__)("General Settings","easy-frequently-bought-together-for-woocommerce"))),(0,t.createElement)(r.CardBody,null,(0,t.createElement)(r.TextControl,{label:(0,i.__)("Box Title","easy-frequently-bought-together-for-woocommerce"),value:m,onChange:g,help:(0,i.__)("The title displayed on the 'Frequently Bought Together' box.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}),(0,t.createElement)(r.TextControl,{label:(0,i.__)("Total Label","easy-frequently-bought-together-for-woocommerce"),value:h,onChange:b,help:(0,i.__)("This label will show the total price for all selected products.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}),(0,t.createElement)(r.TextControl,{label:(0,i.__)("Button Label","easy-frequently-bought-together-for-woocommerce"),value:d,onChange:p,help:(0,i.__)("This label appears on the 'Add to Cart' button in the box.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}),(0,t.createElement)(r.ToggleControl,{label:(0,i.__)("Enable Discount Percentage","easy-frequently-bought-together-for-woocommerce"),checked:v,onChange:T,help:(0,i.__)("Toggle the visibility of discount percentages in the 'Frequently Bought Together' box.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}))),"approximate_price"===c&&(0,t.createElement)(r.Card,null,(0,t.createElement)(r.CardHeader,null,(0,t.createElement)("h2",null,(0,i.__)("Approximate Price Settings","easy-frequently-bought-together-for-woocommerce")),(0,t.createElement)("p",null,(0,i.__)("Configure approximate pricing based on the user's preferred currency.","easy-frequently-bought-together-for-woocommerce"))),(0,t.createElement)(r.CardBody,null,(0,t.createElement)(r.SelectControl,{label:(0,i.__)("Approximate Currency Type","easy-frequently-bought-together-for-woocommerce"),value:f,options:[{label:"Auto (Based on user location)",value:"auto"},{label:"Base Currency",value:"base"}],onChange:y,help:(0,i.__)("Select the currency type for approximate pricing: 'Auto' based on user's location or 'Base Currency'.","easy-frequently-bought-together-for-woocommerce")}),(0,t.createElement)(r.ToggleControl,{label:(0,i.__)("Enable Approximate Product Prices","easy-frequently-bought-together-for-woocommerce"),checked:w,onChange:_,help:(0,i.__)("Toggle to enable or disable approximate prices for individual products.","easy-frequently-bought-together-for-woocommerce")}),(0,t.createElement)(r.ToggleControl,{label:(0,i.__)("Enable Approximate Cart and Checkout Prices","easy-frequently-bought-together-for-woocommerce"),checked:E,onChange:C,help:(0,i.__)("Enable approximate prices to be shown for the cart and checkout pages.","easy-frequently-bought-together-for-woocommerce")}))),(0,t.createElement)("div",{className:"efbtw-settings-save-button"},(0,t.createElement)(r.Button,{isPrimary:!0,onClick:()=>{s()({path:"/efbtw/v1/settings",method:"POST",data:{boxTitle:m,totalLabel:h,buttonLabel:d,currencyType:f,enableProductPrice:w,enableCartPrice:E,enableDiscountPercentage:v}}).then(()=>{P("success","‚úÖ Settings saved successfully!",{isDismissible:!0,duration:3e3})}).catch(e=>{P("error","‚ùå Failed to save settings!",{isDismissible:!0,duration:3e3}),console.error("Save error:",e)})}},(0,i.__)("Save Changes","easy-frequently-bought-together-for-woocommerce"))))))},m=document.getElementById("easy-bought-together-settings-app");m&&(0,o.createRoot)(m).render((0,t.createElement)(u,null))})();