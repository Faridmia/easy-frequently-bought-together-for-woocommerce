(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var a in o)e.o(o,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:o[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,o=window.wp.element,a=window.wp.components,l=window.wp.data,r=window.wp.notices,n=()=>{const{removeNotice:e}=(0,l.useDispatch)(r.store),o=(0,l.useSelect)(e=>e(r.store).getNotices());return(0,t.useEffect)(()=>{if(o.length>0){const t=o[o.length-1].id,a=setTimeout(()=>{e(t)},3e3);return()=>clearTimeout(a)}},[o,e]),0===o.length?null:(0,t.createElement)(a.NoticeList,{notices:o,onRemove:e})},s=window.wp.apiFetch;var c=e.n(s);const u=window.wp.i18n;c().use((e,t)=>(e.headers={...e.headers,"X-WP-Nonce":efbtwSettings_object.nonce},t(e)));const i=()=>{const e=new URLSearchParams(window.location.search).get("settingstab")||"general",[s,i]=(0,o.useState)(e),[m,f]=(0,o.useState)("Frequently Bought Together"),[g,h]=(0,o.useState)("Price for %d items:"),[b,d]=(0,o.useState)("Add all to Cart"),[w,y]=(0,o.useState)(!0),[p,v]=(0,o.useState)("#ffffff"),[E,_]=(0,o.useState)("#299e8e"),[C,N]=(0,o.useState)("#28c81f"),[T,S]=(0,o.useState)("#ffffff"),[q,B]=(0,o.useState)("#ffffff"),{createNotice:x}=(0,l.useDispatch)(r.store);(0,o.useEffect)(()=>{c()({path:"/efbtw/v1/settings"}).then(e=>{var t;e&&(f(e.boxTitle||"Frequently Bought Together"),h(e.totalLabel||"Price for all"),d(e.buttonLabel||"Add all to Cart"),y(null===(t=e.enableDiscountPercentage)||void 0===t||t),v(e.formBgColor||"#ffffff"),_(e.btnBg||"#299e8e"),N(e.btnBgHover||"#28c81f"),S(e.btnText||"#ffffff"),B(e.btnTextHover||"#ffffff"))})},[]);const P=e=>{i(e);const t=new URL(window.location.href);t.searchParams.set("settingstab",e),window.history.replaceState(null,"",t.toString())};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"easy-efbtw-notice-wrapper"},(0,t.createElement)(n,null)),(0,t.createElement)("div",{className:"efbtw-settings-admin-layout"},(0,t.createElement)("div",{className:"efbtw-settings-admin-sidebar"},(0,t.createElement)("ul",{className:"efbtw-settings-sidebar-nav"},(0,t.createElement)("li",{className:"general"===s?"active":"",onClick:()=>P("general")},"‚öô General"),(0,t.createElement)("li",{className:"style_settings"===s?"active":"",onClick:()=>P("style_settings")},"üé® Color Settings"))),(0,t.createElement)("div",{className:"efbtw-admin-right-settings-content",style:{flex:1}},"general"===s&&(0,t.createElement)(a.Card,null,(0,t.createElement)(a.CardHeader,null,(0,t.createElement)("h2",null,(0,u.__)("General Settings","easy-frequently-bought-together-for-woocommerce"))),(0,t.createElement)(a.CardBody,null,(0,t.createElement)(a.TextControl,{label:(0,u.__)("Box Title","easy-frequently-bought-together-for-woocommerce"),value:m,onChange:f,help:(0,u.__)("The title displayed on the 'Frequently Bought Together' box.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}),(0,t.createElement)(a.TextControl,{label:(0,u.__)("Total Label","easy-frequently-bought-together-for-woocommerce"),value:g,onChange:h,help:(0,u.__)("This label will show the total price for all selected products.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}),(0,t.createElement)(a.TextControl,{label:(0,u.__)("Button Label","easy-frequently-bought-together-for-woocommerce"),value:b,onChange:d,help:(0,u.__)("This label appears on the 'Add to Cart' button in the box.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}),(0,t.createElement)(a.ToggleControl,{label:(0,u.__)("Enable Discount Percentage","easy-frequently-bought-together-for-woocommerce"),checked:w,onChange:y,help:(0,u.__)("Toggle the visibility of discount percentages in the 'Frequently Bought Together' box.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}))),"style_settings"===s&&(0,t.createElement)(a.Card,null,(0,t.createElement)(a.CardHeader,null,(0,t.createElement)("h2",null,(0,u.__)("Style Settings","easy-frequently-bought-together-for-woocommerce")),(0,t.createElement)("p",null,(0,u.__)("Customize colors for the Frequently Bought Together form.","easy-frequently-bought-together-for-woocommerce"))),(0,t.createElement)(a.CardBody,null,(0,t.createElement)("div",{className:"efbtw-color-field efbtw-color-main-box"},(0,t.createElement)("label",{className:"efbtw-color-label"},(0,u.__)("Wrapper Background Color","easy-frequently-bought-together-for-woocommerce")),(0,t.createElement)("div",{className:"efbtw-color-input-wrapper"},(0,t.createElement)("input",{type:"color",value:p,onChange:e=>v(e.target.value),className:"efbtw-color-input"}),(0,t.createElement)("input",{type:"text",value:p,onChange:e=>v(e.target.value),className:"efbtw-color-text-input",placeholder:"#ffffff"})),(0,t.createElement)("p",{className:"description"},(0,u.__)("Select background color for Frequently Bought form","easy-frequently-bought-together-for-woocommerce"))),(0,t.createElement)("h3",{className:"mt-4"},(0,u.__)("Button Colors","easy-frequently-bought-together-for-woocommerce")),(0,t.createElement)("div",{className:"efbtw-color-grid"},[{label:"Background",value:E,setter:_},{label:"Background Hover",value:C,setter:N},{label:"Text",value:T,setter:S},{label:"Text Hover",value:q,setter:B}].map((e,o)=>(0,t.createElement)("div",{className:"efbtw-color-field",key:o},(0,t.createElement)("label",null,(0,u.__)(e.label,"easy-frequently-bought-together-for-woocommerce")),(0,t.createElement)("div",{className:"efbtw-color-input-wrapper"},(0,t.createElement)("input",{type:"color",value:e.value,onChange:t=>e.setter(t.target.value),className:"efbtw-color-input"}),(0,t.createElement)("input",{type:"text",value:e.value,onChange:t=>e.setter(t.target.value),className:"efbtw-color-text-input",placeholder:"#000000"}))))))),(0,t.createElement)("div",{className:"efbtw-settings-save-button"},(0,t.createElement)(a.Button,{isPrimary:!0,onClick:()=>{c()({path:"/efbtw/v1/settings",method:"POST",data:{boxTitle:m,totalLabel:g,buttonLabel:b,enableDiscountPercentage:w,formBgColor:p,btnBg:E,btnBgHover:C,btnText:T,btnTextHover:q}}).then(()=>{x("success","‚úÖ Settings saved successfully!",{isDismissible:!0,duration:3e3})}).catch(e=>{x("error","‚ùå Failed to save settings!",{isDismissible:!0,duration:3e3}),console.error("Save error:",e)})}},(0,u.__)("Save Changes","easy-frequently-bought-together-for-woocommerce"))))))},m=document.getElementById("easy-bought-together-settings-app");m&&(0,o.createRoot)(m).render((0,t.createElement)(i,null))})();