(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,o=window.wp.components,s=window.wp.data,r=window.wp.notices,a=window.React,l=window.ReactJSXRuntime,n=()=>{const{removeNotice:e}=(0,s.useDispatch)(r.store),t=(0,s.useSelect)(e=>e(r.store).getNotices());return(0,a.useEffect)(()=>{if(t.length>0){const o=t[t.length-1].id,s=setTimeout(()=>{e(o)},3e3);return()=>clearTimeout(s)}},[t,e]),0===t.length?null:(0,l.jsx)(o.NoticeList,{notices:t,onRemove:e})},c=window.wp.apiFetch;var i=e.n(c);const h=window.wp.i18n;i().use((e,t)=>(e.headers={...e.headers,"X-WP-Nonce":efbtwSettings_object.nonce},t(e)));const u=()=>{const e=new URLSearchParams(window.location.search).get("settingstab")||"general",[a,c]=(0,t.useState)(e),[u,g]=(0,t.useState)("Frequently Bought Together"),[f,d]=(0,t.useState)("Price for %d items:"),[b,m]=(0,t.useState)("Add all to Cart"),[w,x]=(0,t.useState)(!0),[p,y]=(0,t.useState)("#ffffff"),[v,j]=(0,t.useState)("#299e8e"),[_,C]=(0,t.useState)("#28c81f"),[N,S]=(0,t.useState)("#ffffff"),[T,B]=(0,t.useState)("#ffffff"),[q,P]=(0,t.useState)({top:"10px",right:"10px",bottom:"10px",left:"10px"}),{createNotice:L}=(0,s.useDispatch)(r.store);(0,t.useEffect)(()=>{i()({path:"/efbtw/v1/settings"}).then(e=>{var t;e&&(g(e.boxTitle||"Frequently Bought Together"),d(e.totalLabel||"Price for all"),m(e.buttonLabel||"Add all to Cart"),x(null===(t=e.enableDiscountPercentage)||void 0===t||t),y(e.formBgColor||"#ffffff"),j(e.btnBg||"#299e8e"),C(e.btnBgHover||"#28c81f"),S(e.btnText||"#ffffff"),B(e.btnTextHover||"#ffffff"),P(e.box_spacing))})},[]);const F=e=>{c(e);const t=new URL(window.location.href);t.searchParams.set("settingstab",e),window.history.replaceState(null,"",t.toString())};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"easy-efbtw-notice-wrapper",children:(0,l.jsx)(n,{})}),(0,l.jsxs)("div",{className:"efbtw-settings-admin-layout",children:[(0,l.jsx)("div",{className:"efbtw-settings-admin-sidebar",children:(0,l.jsxs)("ul",{className:"efbtw-settings-sidebar-nav",children:[(0,l.jsx)("li",{className:"general"===a?"active":"",onClick:()=>F("general"),children:"⚙ General"}),(0,l.jsxs)("li",{className:"style_settings"===a?"active":"",onClick:()=>F("style_settings"),children:[(0,l.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",class:"edit-site-global-styles-icon-with-current-color","aria-hidden":"true",focusable:"false",children:(0,l.jsx)("path",{d:"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z"})})," ","Color Settings"]})]})}),(0,l.jsxs)("div",{className:"efbtw-admin-right-settings-content",style:{flex:1},children:["general"==a&&(0,l.jsxs)(o.Card,{children:[(0,l.jsx)(o.CardHeader,{children:(0,l.jsx)("h2",{children:(0,h.__)("General Settings","easy-frequently-bought-together-for-woocommerce")})}),(0,l.jsxs)(o.CardBody,{children:[(0,l.jsx)(o.TextControl,{label:(0,h.__)("Box Title","easy-frequently-bought-together-for-woocommerce"),value:u,onChange:g,help:(0,h.__)("The title displayed on the 'Frequently Bought Together' box.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}),(0,l.jsx)(o.TextControl,{label:(0,h.__)("Total Label","easy-frequently-bought-together-for-woocommerce"),value:f,onChange:d,help:(0,h.__)("This label will show the total price for all selected products.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}),(0,l.jsx)(o.TextControl,{label:(0,h.__)("Button Label","easy-frequently-bought-together-for-woocommerce"),value:b,onChange:m,help:(0,h.__)("This label appears on the 'Add to Cart' button in the box.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}),(0,l.jsx)(o.ToggleControl,{label:(0,h.__)("Enable Discount Percentage","easy-frequently-bought-together-for-woocommerce"),checked:w,onChange:x,help:(0,h.__)("Toggle the visibility of discount percentages in the 'Frequently Bought Together' box.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"}),(0,l.jsx)(o.BoxControl,{label:(0,h.__)("Box Spacing","easy-frequently-bought-together-for-woocommerce"),values:q,onChange:e=>P(e),help:(0,h.__)("Adjust the spacing (margin or padding) around the 'Frequently Bought Together' box.","easy-frequently-bought-together-for-woocommerce"),className:"efbtw-admin-settings-control"})]})]}),"style_settings"===a&&(0,l.jsxs)(o.Card,{children:[(0,l.jsx)(o.CardHeader,{children:(0,l.jsx)("h2",{children:(0,h.__)("Style Settings","easy-frequently-bought-together-for-woocommerce")})}),(0,l.jsxs)(o.CardBody,{children:[(0,l.jsxs)("div",{className:"efbtw-color-field efbtw-color-main-box",children:[(0,l.jsx)("label",{className:"efbtw-color-label",children:(0,h.__)("Wrapper Background Color","easy-frequently-bought-together-for-woocommerce")}),(0,l.jsxs)("div",{className:"efbtw-color-input-wrapper",children:[(0,l.jsx)("input",{type:"color",value:p,onChange:e=>y(e.target.value),className:"efbtw-color-input"}),(0,l.jsx)("input",{type:"text",value:p,onChange:e=>y(e.target.value),className:"efbtw-color-text-input",placeholder:"#ffffff"})]}),(0,l.jsx)("p",{className:"description",children:(0,h.__)("Select background color for Frequently Bought form","easy-frequently-bought-together-for-woocommerce")})]}),(0,l.jsx)("h3",{className:"mt-4",children:(0,h.__)("Button Colors","easy-frequently-bought-together-for-woocommerce")}),(0,l.jsx)("div",{className:"efbtw-color-grid",children:[{label:"Background",value:v,setter:j},{label:"Background Hover",value:_,setter:C},{label:"Text",value:N,setter:S},{label:"Text Hover",value:T,setter:B}].map((e,t)=>(0,l.jsxs)("div",{className:"efbtw-color-field",children:[(0,l.jsx)("label",{children:(0,h.__)(e.label,"easy-frequently-bought-together-for-woocommerce")}),(0,l.jsxs)("div",{className:"efbtw-color-input-wrapper",children:[(0,l.jsx)("input",{type:"color",value:e.value,onChange:t=>e.setter(t.target.value),className:"efbtw-color-input"}),(0,l.jsx)("input",{type:"text",value:e.value,onChange:t=>e.setter(t.target.value),className:"efbtw-color-text-input",placeholder:"#000000"})]})]},t))})]})]}),(0,l.jsx)("div",{className:"efbtw-settings-save-button",children:(0,l.jsx)(o.Button,{isPrimary:!0,onClick:()=>{i()({path:"/efbtw/v1/settings",method:"POST",data:{boxTitle:u,totalLabel:f,buttonLabel:b,enableDiscountPercentage:w,formBgColor:p,btnBg:v,btnBgHover:_,btnText:N,btnTextHover:T,box_spacing:q}}).then(()=>{L("success","✅ Settings saved successfully!",{isDismissible:!0,duration:3e3})}).catch(e=>{L("error","❌ Failed to save settings!",{isDismissible:!0,duration:3e3}),console.error("Save error:",e)})},children:(0,h.__)("Save Changes","easy-frequently-bought-together-for-woocommerce")})})]})]})]})},g=document.getElementById("easy-bought-together-settings-app");g&&(0,t.createRoot)(g).render((0,l.jsx)(u,{}))})();